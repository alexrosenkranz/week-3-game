<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hang, man.</title>
</head>
<body>
<div style="text-align: center;">
<h1>Hangman</h1>

<div id="placeholder" style="font-size: 1.5em; font-family: monotype; color: red; letter-spacing: 3px">-------</div>
<br/>
<div>Guessed Letters</div>
<div id="lettersGuessedSpace">(guessed letters will go here)</div>
  <script type="text/javascript">

    // DECLARE VARIABLES NEEDED FOR GAME
    var wordsArray = ['kaytranada','hotelier','american football','restorations', 'a tribe called quest', 'rufus du sol'];
    var word;
    var lettersGuessed;
    var goesLeft;
    var placeholder;
    var input;
    var wordLength;
    var wordSubstring;
    var currentWord;
    var key;

    // CREATE FUNCTION TO INITIALIZE NEW GAME
    function newGame() {
      placeholder = "";
      goesLeft = 10;
      lettersGuessed = [];
      word = wordsArray[Math.floor(Math.random() * wordsArray.length)];
    
      // REMOVE BEFORE FINALIZING
      console.log(word);
      wordLength = word.length;
      wordSubstring = word.substring;
    
    for (var i = 0; i < word.length; i++) {
      placeholder = placeholder + "_";
    }
    // WORKING ON AUTOMATIC SPACEBAR PRESS
    // key = String.fromCharCode(32);

      document.getElementById("placeholder").innerHTML = placeholder;
      document.getElementById("lettersGuessedSpace").innerHTML = lettersGuessed;
    }

  // INITIALIZE GAME
  newGame();
  
  // LOG KEYSTROKE TO BEGIN LOGIC CHECK
  document.onkeyup = function(event){
    key = event.key;
    var correct = 0;

    for (var i = 0; i < wordLength; i++) {
      if (key == word.substring(i, i + 1)) {
        correct++;
        placeholder = placeholder.substring(0, i) + key + placeholder.substring(i + 1, placeholder.length + 1);
        document.getElementById("placeholder").innerHTML = placeholder;
      }
    }

    if (correct == 0) {
      goesLeft--;
      lettersGuessed.push(key);
      document.getElementById("lettersGuessedSpace").innerHTML = lettersGuessed;
    }

    if (placeholder == word) {
      alert("You guessed the word correctly. You win!");
      newGame();
    }

    if (goesLeft == 0) {
      alert("You lose");
      newGame();
    }

  }


  </script>
</body>
</html>